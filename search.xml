<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>React Hooksä¸ªäººç†è§£å’Œæ€»ç»“</title>
      <link href="2020/11/16/React/Hooks/"/>
      <url>2020/11/16/React/Hooks/</url>
      
        <content type="html"><![CDATA[<h1 id="React-Hooksæ˜¯ä»€ä¹ˆ"><a href="#React-Hooksæ˜¯ä»€ä¹ˆ" class="headerlink" title="React Hooksæ˜¯ä»€ä¹ˆ"></a>React Hooksæ˜¯ä»€ä¹ˆ</h1><p>  <em>hookså¼€å§‹æ˜¯ä¸ºäº†è§£å†³é€»è¾‘å¤ç”¨ï¼Œä¸ºå‡½æ•°åŒ–ä¸“é—¨æä¾›çš„api</em></p><h1 id="mixins"><a href="#mixins" class="headerlink" title="mixins"></a>mixins</h1><p>  ä½¿ç”¨åˆ†æ•£åŠ æ‰“å¹³çš„æ–¹å¼å°†é€»è¾‘å’ŒçŠ¶æ€æ··å…¥ç»„ä»¶ä¸­</p><ul><li>å‘½åç©ºé—´å†²çªï¼šå±æ€§åå’Œæ–¹æ³•åå¾ˆå®¹æ˜“å’Œç»„ä»¶ä¸­å†²çªï¼Œå¯¼è‡´è¢«è¦†ç›–</li><li>å¾ˆéš¾åˆ¤æ–­å¤šä¸ªmixinsä¸­å±æ€§ä»å“ªé‡Œæ¥</li><li>éœ€è¦äº†è§£æ•´ä¸ªmixinsæ‰èƒ½ä½¿ç”¨ï¼Œç»´æŠ¤å›°éš¾</li></ul><h1 id="HOC"><a href="#HOC" class="headerlink" title="HOC"></a>HOC</h1><p>æˆ‘å…ˆç»™ä½ ä¸ªç»„ä»¶(dom)ï¼Œä½ é€šè¿‡propså¢å¼ºä¹‹åè¿”ç»™æˆ‘</p><ul><li>æ•´ä¸ªç±»å¯¹äºå¤–éƒ¨æ¥è¯´æ˜¯ä¸å¯æ§çš„ï¼Œç›¸å½“äºæ˜¯ä¸€ä¸ªé»‘ç›’ã€‚</li><li>refæ“ä½œdomè¢«éš”æ–­ã€‚React.createRef</li><li>å› ä¸ºçˆ¶ç»„ä»¶æ— æ³•è®¿é—®å­ç»„ä»¶çš„stateï¼Œå¯¼è‡´æ— æ³•ç”¨shouldComponentUpdateè¿›è¡Œè¿‡æ»¤æ¸²æŸ“ React.pureComponentã€‚</li><li>å¦‚æœå¤šå±‚åµŒå¥—éœ€è¦æ³¨æ„propsä¸Šçš„å±æ€§è¦†ç›–é—®é¢˜</li><li>æ•´ä½“éœ€è¦åµŒå¥—ä¸€å±‚ç±»ç»„ä»¶<br>ç½‘ä¸Šæ‘˜æŠ„çš„demo<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">import React from &#39;react&#39;;</span><br><span class="line">const withSecretToLife &#x3D; (WrappedComponent) &#x3D;&gt; &#123;</span><br><span class="line">  class HOC extends React.Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">      return (</span><br><span class="line">        &lt;WrappedComponent</span><br><span class="line">          secretToLife&#x3D;&#123;42&#125;</span><br><span class="line">          &#123;...this.props&#125;</span><br><span class="line">        &#x2F;&gt;</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return HOC;</span><br><span class="line">&#125;;</span><br><span class="line">export default withSecretToLife;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import React from &#39;react&#39;;</span><br><span class="line">import withSecretToLife from &#39;components&#x2F;withSecretToLife&#39;;</span><br><span class="line">const DisplayTheSecret &#x3D; props &#x3D;&gt; (</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    The secret to life is &#123;props.secretToLife&#125;.</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">);</span><br><span class="line">const WrappedComponent &#x3D; withSecretToLife(DisplayTheSecret);</span><br><span class="line">export default WrappedComponent;</span><br></pre></td></tr></table></figure></li></ul><h1 id="Render-props"><a href="#Render-props" class="headerlink" title="Render props"></a>Render props</h1><p>æˆ‘æŠŠdomå’Œstateé€šè¿‡renderç»™ä½ ï¼Œä½ å¸®æˆ‘ç”¨ä½ çš„å±æ€§æˆ–è€…æ–¹æ³•ç›´æ¥æ¸²æŸ“å‡ºæ¥<br>render propså¯ä»¥è§£å†³é™¤äº†æœ€åä¸€æ¡æ‰€æœ‰çš„é—®é¢˜</p><ul><li>é€šè¿‡renderå±æ€§è‡ªå·±æ§åˆ¶stateæ¸²æŸ“</li><li>å¤šå±‚åµŒå¥—ï¼Œåœ¨ä¸€ä¸ªç»„ä»¶ä¸­å‘½åå°±ä¸ä¼šå†²çª</li><li>åŒºåˆ«åœ¨äºå¯ä¸å¯ä»¥ç›´æ¥ä¼ é€’dom*<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import React from &#39;react&#39;;</span><br><span class="line">const SharedComponent extends React.Component &#123;</span><br><span class="line">  state &#x3D; &#123;...&#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &#123;this.props.render(this.state)&#125;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default SharedComponent;</span><br><span class="line"></span><br><span class="line">import React from &#39;react&#39;;</span><br><span class="line">import SharedComponent from &#39;components&#x2F;SharedComponent&#39;;</span><br><span class="line">const SayHello &#x3D; () &#x3D;&gt; (</span><br><span class="line">  &lt;SharedComponent render&#x3D;&#123;(state) &#x3D;&gt; (</span><br><span class="line">    &lt;span&gt;hello!,&#123;...state&#125;&lt;&#x2F;span&gt;</span><br><span class="line">  )&#125; &#x2F;&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li></ul><h1 id="Hooks"><a href="#Hooks" class="headerlink" title="Hooks"></a>Hooks</h1><h2 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h2><ul><li>è§£å†³äº†hocå’Œrender propséœ€è¦åµŒå¥—ä¸€å±‚çš„é—®é¢˜ï¼Œ(propsä¼ é€’åŠ useRef)</li><li>è§£å†³äº†mixinsä¸­çŠ¶æ€å’Œæ–¹æ³•æ¥æºä¸æ¸…å’Œå‘½åçš„é—®é¢˜(è‡ªå®šä¹‰hooks)</li><li>è§£å†³äº†ç±»ç»„ä»¶ä¸­å°†é€»è¾‘åˆ†æ•£åˆ°å„ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œæˆ–è€…éœ€è¦é‡Šæ”¾å†…å­˜çš„æ“ä½œï¼Œ(useEffectå’Œç›‘å¬ä¾èµ–)</li><li>ç±»ç»„ä»¶æ”¹å‡½æ•°ç»„ä»¶ï¼Œç±»ç»„ä»¶æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œä¼šé™ä½æ€§èƒ½</li></ul><h2 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h2><ul><li>å¿…é¡»åœ¨å‡½æ•°å¤´éƒ¨è¿›è¡Œå£°æ˜ï¼Œæ— æ³•åœ¨forå¾ªç¯æˆ–è€…ifåˆ¤æ–­ä¸­è¿›è¡Œå£°æ˜</li><li>éœ€è¦è‡ªå·±æŒ‡å®šä¾èµ–ï¼Œå°±ç®—æœ‰eslint-plugin-react-hooksè¿™ç§ç±»ä¼¼çš„æ’ä»¶ï¼Œä¹Ÿä¼šæœ‰è­¦å‘Šï¼ŒåŒ…æ‹¬æ— æ•ˆçš„ä¾èµ–å­˜åœ¨</li></ul><h2 id="useState"><a href="#useState" class="headerlink" title="useState"></a>useState</h2><p>  1.å®šä¹‰:<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const [state, setState] &#x3D; useState(0);</span><br></pre></td></tr></table></figure><br>  2.æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šå…·æœ‰ç‹¬ç«‹çš„propså’Œstateï¼Œä¸åŒäºç±»ç»„ä»¶éœ€è¦å°†stateæŒ‚è½½åˆ°thisä¸Šï¼ˆæ¯æ¬¡æ¸²æŸ“æ˜¯ç‹¬ç«‹çš„ï¼Œå±æ€§ä¹Ÿæ˜¯ç‹¬ç«‹çš„ï¼Œå‡½æ•°éœ€è¦é‡æ–°åˆ›å»ºï¼‰ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸¤ä¸ªä¾‹å­<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶çš„countæ¯éš”ä¸€ç§’åŠ 1</span><br><span class="line">handleClick &#x3D; () &#x3D;&gt; &#123; &#x2F;&#x2F; ç±»ç»„ä»¶</span><br><span class="line">    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">        alert(this.props.count); &#x2F;&#x2F; ä¸‰ç§’ç»“æŸä¹‹åè¾“å‡ºæœ€æ–°å€¼3</span><br><span class="line">    &#125;, 3000);</span><br><span class="line">&#125;;</span><br><span class="line">handleClick &#x3D; () &#x3D;&gt; &#123; &#x2F;&#x2F; hooksç»„ä»¶</span><br><span class="line">    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">        alert(props.count); &#x2F;&#x2F; ä¸‰ç§’ç»“æŸä¹‹åè¾“å‡ºåˆå§‹å€¼0</span><br><span class="line">    &#125;, 3000);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br>  ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼šhooksç»„ä»¶åœ¨æ¯æ¬¡æ¸²æŸ“çš„æ—¶å€™éƒ½æœ‰è‡ªå·±çš„propsã€‚<br>  3.æˆ‘ä»¬å°†ä¸Šé¢çš„propså˜æˆstateè¯•ä¸‹<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">const Example &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const [count,setCount] &#x3D; useState(0);</span><br><span class="line">  handleClick &#x3D; () &#x3D;&gt; &#123; &#x2F;&#x2F; ç±»ç»„ä»¶</span><br><span class="line">      setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          alert(count); &#x2F;&#x2F; ä¸‰ç§’ç»“æŸä¹‹åè¾“å‡ºä¸‰ç§’ä¹‹å‰çš„count</span><br><span class="line">      &#125;, 3000);</span><br><span class="line">  &#125;;</span><br><span class="line">  handleCountClick &#x3D; () &#x3D;&gt; &#123; &#x2F;&#x2F; ç±»ç»„ä»¶</span><br><span class="line">      setCount(count + 1);</span><br><span class="line">  &#125;;</span><br><span class="line">  return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">          &lt;p&gt;&#123;count&#125;&lt;&#x2F;p&gt;</span><br><span class="line">          &lt;button onClick&#x3D;&#123;handleCountClick&#125;&gt;</span><br><span class="line">              setCount</span><br><span class="line">          &lt;&#x2F;button&gt;</span><br><span class="line">          &lt;button onClick&#x3D;&#123;handleClick&#125;&gt;</span><br><span class="line">              Delay setCount</span><br><span class="line">          &lt;&#x2F;button&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>  æˆ‘ä»¬å…ˆç‚¹å‡»ä¸‹é¢çš„Delay setCountï¼Œç„¶åå†ç‚¹å‡»ä¸Šé¢çš„setCountï¼Œä¼šå‘ç°pä¸­çš„countå˜æˆäº†æœ€æ–°çš„å€¼ï¼Œè€Œalertå‡ºæ¥çš„è¿˜æ˜¯åˆå§‹å€¼0<br>  4.æ‰€ä»¥åœ¨æ¯æ¬¡renderçš„æ—¶å€™stateä¹Ÿæœ‰è‡ªå·±çš„åˆå§‹å€¼<br>  5.setStateå’ŒuseStateçš„åŒºåˆ«ï¼šsetStateä¼šç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¦‚æœå¤šæ¬¡setStateä¼šåˆå¹¶æˆä¸€æ¬¡è¿›è¡Œæ¸²æŸ“ï¼ˆè¿™é‡Œæ˜¯å°†æ–°æ—§å€¼è¿›è¡Œåˆå¹¶ç„¶ååœ¨èµ‹å€¼ï¼‰ï¼ŒuseStateä½¿ç”¨Object.isè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå€¼ä¸å˜å°±ä¸ä¼šé‡æ–°æ¸²æŸ“ï¼Œå¦‚æœå€¼ä¸åŒç›´æ¥ç”¨æ–°æ›¿æ¢æ—§ï¼Œå¹¶ä¸”useStateä¸ä¼šè‡ªåŠ¨åˆå¹¶æ›´æ–°å¯¹è±¡,éœ€è¦é€šè¿‡setObj({ â€¦obj, {value: obj.value + 1}})è¿™æ ·å»åˆå¹¶</p><h2 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a>useEffect</h2><p>  1ã€‚å®šä¹‰ï¼š<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useEffect(() &#x3D;&gt; &#123;&#125;, [dep]);</span><br></pre></td></tr></table></figure><br>  2.ç†è§£ï¼šåœ¨DOMæ¸²æŸ“ä¹‹åè¿›è¡Œä¸€äº›æ“ä½œï¼Œç›¸å½“äºvueçš„mountedã€‚<br>  ä¸€èˆ¬è¿›è¡Œä¸€äº›å‰¯ä½œç”¨æ“ä½œï¼Œåƒå‘è¯·æ±‚ï¼Œå¯¹DOMæ“ä½œï¼Œå®šæ—¶å™¨ç­‰ç­‰ï¼Œæ¯ä¸€æ¬¡effectä¹‹åéƒ½ä¼šé‡æ–°renderï¼Œæ‰€ä»¥æŠŠå®šæ—¶å™¨æ”¾åœ¨effecté‡Œè¾¹ï¼Œé‡æ–°renderä¹‹åè‡ªåŠ¨é‡Šæ”¾ï¼Œä¸ä¼šé€ æˆå†…å­˜æ³„éœ²</p><h2 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo"></a>useMemo</h2><p>  1.ç”¨æ¥ç¼“å­˜å…ƒç´ ï¼Œæ¯”å¦‚å¤§é‡çš„domè®¡ç®—ï¼Œå¦‚æœstateå˜åŒ–å°±ä¼šé‡æ–°æ¸²æŸ“ï¼Œçœ‹ä¸‹ä¸‹è¾¹çš„ä¾‹å­ï¼š<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">  const nameList &#x3D; [&#39;apple&#39;, &#39;peer&#39;, &#39;banana&#39;, &#39;lemon&#39;]</span><br><span class="line">  const MemoExample &#x3D; (props: any) &#x3D;&gt; &#123;</span><br><span class="line">    const [price, setPrice] &#x3D; useState(0)</span><br><span class="line">    const [name, setName] &#x3D; useState(&#39;apple&#39;)</span><br><span class="line">    let getProductName &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&#39;getProductNameè§¦å‘&#39;)</span><br><span class="line">        return name</span><br><span class="line">    &#125;;</span><br><span class="line">    &#x2F;&#x2F; åªå¯¹nameå“åº”</span><br><span class="line">    useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&#39;name effect è§¦å‘&#39;)</span><br><span class="line">    &#125;, [name])</span><br><span class="line">    &#x2F;&#x2F; åªå¯¹priceå“åº”</span><br><span class="line">    useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&#39;price effect è§¦å‘&#39;)</span><br><span class="line">    &#125;, [price])</span><br><span class="line">  </span><br><span class="line">    &#x2F;&#x2F; memoåŒ–çš„getProductNameå‡½æ•°   ğŸ§¬ğŸ§¬ğŸ§¬</span><br><span class="line">    const memo_getProductName &#x3D; useMemo(() &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&#39;name memo è§¦å‘&#39;)</span><br><span class="line">        return () &#x3D;&gt; name  &#x2F;&#x2F; è¿”å›ä¸€ä¸ªå‡½æ•°</span><br><span class="line">    &#125;, [name]);</span><br><span class="line">    return (</span><br><span class="line">        &lt;Fragment&gt;</span><br><span class="line">            &lt;p&gt;&#123;name&#125;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;p&gt;&#123;price&#125;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;p&gt;æ™®é€šçš„nameï¼š&#123;getProductName()&#125;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;p&gt;memoåŒ–çš„ï¼š&#123;memo_getProductName ()&#125;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setPrice(price+1)&#125;&gt;ä»·é’±+1&lt;&#x2F;button&gt;</span><br><span class="line">            &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setName(nameList[Math.random() * nameList.length &lt;&lt; 0])&#125;&gt;ä¿®æ”¹åå­—&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;&#x2F;Fragment&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line">export default MemoExample</span><br></pre></td></tr></table></figure><br>æ³¨æ„:å¦‚æœåªæƒ³åœ¨nameæ”¹å˜çš„æ—¶å€™é‡æ–°æ¸²æŸ“ï¼Œéœ€è¦ä½¿ç”¨memoåšä¸‹æ¸²æŸ“å…ƒç´ çš„ä¼˜åŒ–<br>æƒ³è±¡ä»¥ä¸‹çš„åœºæ™¯ï¼Œç°åœ¨æœ‰å¤šä¸ªæŒ‰é’®ï¼Œæ¯ä¸ªæŒ‰é’®éƒ½å…±äº«ä¸€ä¸ªçŠ¶æ€countï¼Œæˆ‘ä»¬ç”¨React.memoç¼“å­˜æ¯ä¸ªbuttonï¼ŒæœŸæœ›ç‚¹å‡»æ¯ä¸ªæŒ‰é’®éƒ½åªæ¸²æŸ“ä¸€æ¬¡ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">const CountButton &#x3D; React.memo(function CountButton(&#123;onClick, count&#125;) &#123;</span><br><span class="line">  return &lt;button onClick&#x3D;&#123;onClick&#125;&gt;&#123;count&#125;&lt;&#x2F;button&gt;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">function DualCounter() &#123;</span><br><span class="line">  const [count1, setCount1] &#x3D; React.useState(0)</span><br><span class="line">  const increment1 &#x3D; () &#x3D;&gt; setCount1(c &#x3D;&gt; c + 1)</span><br><span class="line"></span><br><span class="line">  const [count2, setCount2] &#x3D; React.useState(0)</span><br><span class="line">  const increment2 &#x3D; () &#x3D;&gt; setCount2(c &#x3D;&gt; c + 1)</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;CountButton count&#x3D;&#123;count1&#125; onClick&#x3D;&#123;increment1&#125; &#x2F;&gt;</span><br><span class="line">      &lt;CountButton count&#x3D;&#123;count2&#125; onClick&#x3D;&#123;increment2&#125; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é¢„æƒ³çš„æ˜¯åœ¨ç¼“å­˜äº†é¡µé¢ä¹‹åCountButtonä¸ä¼šé‡æ–°æ¸²æŸ“ï¼Œä½†æ˜¯æˆ‘ä»¬ç‚¹å‡»ä¹‹åbuttonçš„ç»„ä»¶ä¾æ—§ä¼šæ¸²æŸ“ä¸¤æ¬¡ï¼ŒåŸå› æ˜¯React Hooksæ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œä¼ å…¥çš„å‡½æ•°å› ä¸ºæ²¡æœ‰åšç¼“å­˜ï¼Œæ¯æ¬¡ä¼ å…¥çš„éƒ½æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°å¯¹è±¡ï¼Œæ‰€ä»¥æ‰ä¼šæ¸²æŸ“ä¸¤æ¬¡ï¼Œæˆ‘ä»¬ä½¿ç”¨useCallbackåŒ…æ‹¬å‡½æ•°const increment1 = useCallback() =&gt; setCount1(c =&gt; c + 1), [count1]);æœ€å¥½æŒ‡å®šä¸‹ä¾èµ–ã€‚<br>2.å½“æˆ‘ä»¬éœ€è¦fetchDataå˜åŒ–æ¥åˆå§‹åŒ–ä¸€ä¸ªå‡½æ•°æ—¶å€™ï¼Œéœ€è¦ç”¨useCallback<br>3.ç”¨æ¥ç¼“å­˜æ•°æ®ï¼Œåƒä¸Šé¢çš„å‡½æ•°å¦‚æœå˜æˆå¯¹è±¡å¯ä»¥ç”¨useMemoç¼“å­˜ï¼Œvueä¸­çš„è®¡ç®—å±æ€§ä¹Ÿå¯ä»¥ç”¨useMemoæ¥ç¼“å­˜ï¼Œè¿˜æœ‰åƒuseAsyncMemoè¿™ç§ï¼Œä¸è¿‡ä»–éœ€è¦npmå®‰è£… npm install use-async-memo â€“save<br>è¿˜å¯ä»¥åŠ ä¸Šé˜²æŠ–çš„é€»è¾‘ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const [input, setInput] &#x3D; useState()</span><br><span class="line">const [debouncedInput] &#x3D; useDebounce(input, 300)</span><br><span class="line">const users &#x3D; useAsyncMemo(async () &#x3D;&gt; &#123;</span><br><span class="line">  if (debouncedInput &#x3D;&#x3D;&#x3D; &#39;&#39;) return []</span><br><span class="line">  return await apiService.searchUsers(debouncedInput)</span><br><span class="line">&#125;, [debouncedInput], [])</span><br></pre></td></tr></table></figure><h2 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h2>]]></content>
      
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€šè¿‡Hexoå’Œgithubpagesè¿›è¡Œåšå®¢ç³»ç»Ÿå»ºç«™</title>
      <link href="2020/11/06/Hexo/1/"/>
      <url>2020/11/06/Hexo/1/</url>
      
        <content type="html"><![CDATA[<h1 id="æ­å»ºç½‘ç«™"><a href="#æ­å»ºç½‘ç«™" class="headerlink" title="æ­å»ºç½‘ç«™"></a>æ­å»ºç½‘ç«™</h1><h2 id="æºåŠ¨åŠ›"><a href="#æºåŠ¨åŠ›" class="headerlink" title="æºåŠ¨åŠ›"></a>æºåŠ¨åŠ›</h2><p>ä¸€ç›´ä»¥æ¥éƒ½æƒ³è‡ªå·±å†™ä¸€äº›è‡ªå·±çš„ä¸œè¥¿ï¼ŒåŸæ¥å°è¯•è¿‡ç”¨å°è±¡ç¬”è®°å»å…±äº«ä¸€äº›ç»éªŒå’Œæ€»ç»“ï¼Œä½†åæ¥è§‰å¾—ç¬”è®°é€‚ç”¨äºæé†’å’Œä»»åŠ¡ï¼Œæ‰€ä»¥æ‰“ç®—å»ºä¸€ä¸ªåšå®¢æ¥åˆ†äº«ä¸€äº›å¼€å‘ç»éªŒå’Œè§£å†³é—®é¢˜çš„æ€è·¯ï¼Œæœ€è¿‘åœ¨ç½‘ä¸Šæ‰¾äº†äº›æ•™ç¨‹å»è¯•éªŒäº†ä¸‹ï¼Œå‘ç°è¿˜æ˜¯æœ‰ä¸å°‘å‘çš„ï¼Œåœ¨è¿™é‡Œæ€»ç»“ä¸€æ‰‹ï¼Œå¸Œæœ›å¤§å®¶èƒ½é¡ºåˆ©å»ºèµ·è‡ªå·±çš„åšå®¢ã€‚</p><h2 id="å¼€å§‹è¡ŒåŠ¨"><a href="#å¼€å§‹è¡ŒåŠ¨" class="headerlink" title="å¼€å§‹è¡ŒåŠ¨"></a>å¼€å§‹è¡ŒåŠ¨</h2><p><strong>åŸºæœ¬çš„å®‰è£…æ­¥éª¤æˆ‘ä¼šä¸€ç¬”å¸¦è¿‡ï¼Œé‡ç‚¹è¯´ä¸‹æˆ‘é‡åˆ°è¿‡çš„é—®é¢˜å’Œè§£å†³æ–¹æ³•</strong></p><a href="#">Post not found: React/1</a><h3 id="ä¸€-æ­å»ºåŸºæœ¬æ¶æ„ä¸Šä¼ githubpagesï¼Œå¹¶åœ¨githubpagesä¸Šè®¿é—®"><a href="#ä¸€-æ­å»ºåŸºæœ¬æ¶æ„ä¸Šä¼ githubpagesï¼Œå¹¶åœ¨githubpagesä¸Šè®¿é—®" class="headerlink" title="ä¸€.æ­å»ºåŸºæœ¬æ¶æ„ä¸Šä¼ githubpagesï¼Œå¹¶åœ¨githubpagesä¸Šè®¿é—®"></a>ä¸€.æ­å»ºåŸºæœ¬æ¶æ„ä¸Šä¼ githubpagesï¼Œå¹¶åœ¨githubpagesä¸Šè®¿é—®</h3><ul><li>å®‰è£…node</li><li>å®‰è£…git</li><li>å®‰è£…hexo(npm install -g hexo-cli)</li><li>æ„å»ºå¸¸ç”¨å‘½ä»¤:<pre><code>    *hexo init folder(åˆ›å»ºä¸€ä¸ªhexoçš„åšå®¢é¡¹ç›®)    *hexo g(ç”Ÿæˆé™æ€æ–‡ä»¶,è¿™é‡ŒæŒ‡çš„æ˜¯æœ¬åœ°çš„publicæ–‡ä»¶å¤¹)    *hexo s(å¼€å¯æœ¬åœ°æœåŠ¡ï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼Œé»˜è®¤ç«¯å£ä¸º4000)    *hexo d(å°†ç”Ÿæˆçš„é™æ€æ–‡ä»¶ä¸Šä¼ è‡³githubpagesä¸Š)    *hexo s -g --debug(åœ¨æœ¬åœ°å¼€å¯æœåŠ¡ï¼Œå¹¶è¿›è¡Œçƒ­æ›´æ–°)    *hexo clean(å°†publicæ–‡ä»¶å’Œä¸´æ—¶çš„db.jsonæ–‡ä»¶å…¨éƒ¨æ¸…é™¤)</code></pre><font color=#A52A2A size=3 >è¿™é‡Œæ³¨æ„hexo clean ä¼šåˆ é™¤db.jsonä¼šåŒ…å«è¯„è®ºæ•°æ®ï¼Œæ‰€ä»¥å°½é‡ä¸è¦åˆ é™¤</font></li></ul><p>é¦–å…ˆæˆ‘ä»¬æ‰§è¡Œhexo init testFolderåˆ›å»ºé¡¹ç›®ï¼Œä¹‹åcd testFolderï¼Œç„¶ånpm installå®‰è£…åŒ…ï¼Œæ‰§è¡Œhexo sè¿è¡Œæœ¬åœ°æœåŠ¡ï¼Œè®¿é—® <a href="http://localhost:4000/">http://localhost:4000</a> é»˜è®¤æ˜¯4000ç«¯å£ï¼Œå½“ç„¶ä½ å¯ä»¥è‡ªå·±æŒ‰ç…§æ–‡æ¡£æŒ‡å®šå»ä¿®æ”¹ï¼Œæ•ˆæœæ˜¯è¿™æ ·çš„:<br><img src= "/img/loading.gif" data-lazy-src="https://i.loli.net/2020/11/07/YQtDEsaUPSolueI.jpg" alt="origin-blog.png"><br>é‚£ä¹ˆæ­å–œä½ ï¼Œç¬¬ä¸€æ­¥å·²ç»å®Œæˆäº†</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç™»å½•<a href="https://github.com/">github</a><br>ç‚¹å‡»å·¦ä¸Šè§’ç»¿è‰²çš„newå»æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œ<font color=#A52A2A size=3 >æ³¨æ„åœ¨newåˆ†æ”¯çš„æ—¶å€™ä½ çš„åˆ†æ”¯åå­—è¦èµ·æˆ  ç”¨æˆ·å.github.ioå°±åƒè¿™æ ·</font><br><img src= "/img/loading.gif" data-lazy-src="https://i.loli.net/2020/11/11/jHnzqtfJsO2S8Pw.jpg" alt="branch.png"><br>æ¥ä¸‹æ¥å®‰è£…hexo-deployer-git(npm install hexo-deployer-git â€“save)ï¼Œä¿®æ”¹æˆ‘ä»¬æœ¬åœ°çš„_config.ymlæ–‡ä»¶ï¼Œdeployå±æ€§:<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https:&#x2F;&#x2F;github.com&#x2F;ç”¨æˆ·å&#x2F;ç”¨æˆ·å.github.io</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><br>ä¹‹ååœ¨æœ¬åœ°æ‰§è¡Œhexo dï¼Œç„¶åè®¿é—®ç”¨æˆ·å.github.ioå°±å¯ä»¥åœ¨githubä¸Šçœ‹åˆ°ä½ çš„åšå®¢äº†ã€‚</p><h3 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h3><p>  æˆ‘ä»¬å·²ç»å°†æœ¬åœ°ä»£ç ä¸Šä¼ åˆ°äº†masteråˆ†æ”¯äº†ï¼Œä½†æˆ‘ä»¬éœ€è¦ä¸€ä¸ªåˆ†æ”¯æ¥å­˜å‚¨æˆ‘ä»¬çš„æœ¬åœ°ä»£ç ï¼Œåœ¨githubä¸Šæ–°å»ºä¸€ä¸ªdevelopåˆ†æ”¯ï¼Œä»masterå…‹éš†å°±å¥½ï¼Œç„¶åç”¨æˆ‘ä»¬çš„æœ¬åœ°ä»£ç æ›¿æ¢æ‰developåˆ†æ”¯ä¸Šçš„ä»£ç ï¼Œæ‰§è¡Œgit add, git commit, git pushè¿›è¡Œæäº¤ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨å…¬å¸æˆ–è€…å®¶é‡Œå†™åšå®¢äº†ã€‚</p><h1 id="ä¸»é¢˜å®‰è£…é…ç½®"><a href="#ä¸»é¢˜å®‰è£…é…ç½®" class="headerlink" title="ä¸»é¢˜å®‰è£…é…ç½®"></a>ä¸»é¢˜å®‰è£…é…ç½®</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>æ¨èç”¨gitå»å®‰è£…ï¼Œå› ä¸ºç”¨npmå®‰è£…çš„æ²¡æ³•è‡ªå®šä¹‰ä¸€äº›æ ·å¼ï¼Œè¿˜æœ‰å¼•å…¥ä¸€äº›æ–‡ä»¶ï¼Œåœ¨åšå®¢æ ¹ç›®å½•è¿è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https:&#x2F;&#x2F;github.com&#x2F;jerryc127&#x2F;hexo-theme-butterfly.git themes&#x2F;butterfly</span><br></pre></td></tr></table></figure><p>  å¹¶ä¸”åœ¨_config.ymlä¸­æŒ‡å®šä¸»é¢˜ï¼štheme: butterfly<br>è¿è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><p>ä¸»é¢˜å°±æ›´æ¢å®Œæ¯•äº†ã€‚</p><h2 id="ä¼˜åŒ–å’Œè‡ªå®šä¹‰ä¸»é¢˜"><a href="#ä¼˜åŒ–å’Œè‡ªå®šä¹‰ä¸»é¢˜" class="headerlink" title="ä¼˜åŒ–å’Œè‡ªå®šä¹‰ä¸»é¢˜"></a>ä¼˜åŒ–å’Œè‡ªå®šä¹‰ä¸»é¢˜</h2><h3 id="å¸¸ç”¨é€‰é¡¹"><a href="#å¸¸ç”¨é€‰é¡¹" class="headerlink" title="å¸¸ç”¨é€‰é¡¹"></a>å¸¸ç”¨é€‰é¡¹</h3><p>   title:æ–‡ç« æ ‡é¢˜<br>   cover:æ–‡ç« ç¼©ç•¥å›¾<br>   top_img:é¡¶éƒ¨å¤´å›¾<br>   keywords:å…³é”®è¯<br>   updated:æ–‡ç« æ›´æ–°æ—¶é—´<br>ä¸€èˆ¬æˆ‘å°±ç”¨è¿™äº›ï¼Œå¦‚æœå–œæ¬¢å¯ä»¥å†åŠ åˆ«çš„å±æ€§</p><h3 id="é¡µé¢ä¼˜åŒ–"><a href="#é¡µé¢ä¼˜åŒ–" class="headerlink" title="é¡µé¢ä¼˜åŒ–"></a>é¡µé¢ä¼˜åŒ–</h3><ol><li>å› ä¸ºbutterflyçš„bannerå’ŒèƒŒæ™¯æ˜¯åˆ†å¼€çš„ï¼Œå¦‚æœä½ æƒ³åƒæˆ‘è¿™æ ·åšæˆä¸€å¼ å›¾çš„æ•ˆæœå¯ä»¥è¿™æ ·ï¼š<br>åœ¨_config.butterfaly.ymlä¸­æ‰¾åˆ°background ï¼Œç„¶åä¿®æ”¹ä½ æƒ³è¦çš„å›¾ç‰‡ï¼šurl(å›¾ç‰‡åœ°å€)ï¼Œæ³¨æ„ï¼Œ(ä¸€å®šæ˜¯httpsåè®®çš„,httpä¸ä¼šæ˜¾ç¤º)ï¼Œä¿®æ”¹index_img(bannerå›¾)ä¹Ÿä¸ºä¸€æ ·çš„å›¾ç‰‡</li><li>é…ç½®ä¸­æ–‡ï¼šåœ¨_config.ymlä¸­é…ç½® language: zh-CN</li><li>æ‰“å­—æ•ˆæœé…ç½®subtitleçš„enableä¸ºtrueï¼Œè¿™é‡Œæ³¨æ„ä»–ä¼šå…ˆæ˜¾ç¤ºsourceä¸­çš„åå¥ï¼Œç„¶ååœ¨æ˜¾ç¤ºsubä¸­çš„è¯­å¥</li><li></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™å»ºè®¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="2020/11/06/hello-world/"/>
      <url>2020/11/06/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>React+Antdå¼¹æ¡†ä¸­è¡¨å•æ•°æ®ä¸æ›´æ–°</title>
      <link href="2020/11/05/React/antd/"/>
      <url>2020/11/05/React/antd/</url>
      
        <content type="html"><![CDATA[<h2 id="Reactä¸antd"><a href="#Reactä¸antd" class="headerlink" title="Reactä¸antd"></a>Reactä¸antd</h2><h3 id="é‡åˆ°çš„é—®é¢˜ï¼šåˆ—è¡¨ä¸ŠæŸ¥çœ‹è¯¦æƒ…å¼¹æ¡†å¦‚æœæ˜¯è¡¨å•ï¼Œæ•°æ®ä¸æ›´æ–°"><a href="#é‡åˆ°çš„é—®é¢˜ï¼šåˆ—è¡¨ä¸ŠæŸ¥çœ‹è¯¦æƒ…å¼¹æ¡†å¦‚æœæ˜¯è¡¨å•ï¼Œæ•°æ®ä¸æ›´æ–°" class="headerlink" title="é‡åˆ°çš„é—®é¢˜ï¼šåˆ—è¡¨ä¸ŠæŸ¥çœ‹è¯¦æƒ…å¼¹æ¡†å¦‚æœæ˜¯è¡¨å•ï¼Œæ•°æ®ä¸æ›´æ–°"></a>é‡åˆ°çš„é—®é¢˜ï¼šåˆ—è¡¨ä¸ŠæŸ¥çœ‹è¯¦æƒ…å¼¹æ¡†å¦‚æœæ˜¯è¡¨å•ï¼Œæ•°æ®ä¸æ›´æ–°</h3><hr><p>  <strong><em>ä»æ¥æ–°å…¬å¸ï¼ŒReactå·²ç»ç”¨äº†æœ‰ä¸¤ä¸‰ä¸ªæœˆï¼Œæ¥ä¸‹æ¥ä¸€æ®µæ—¶é—´æˆ‘å°†åˆ†äº«æˆ‘çš„ä¸€äº›æƒ³æ³•å’Œé‡åˆ°çš„å‘ã€‚å…¶å®Reactå‘è¿˜æ˜¯æŒºå¤šçš„ï¼Œè‡ªå·±ä¹Ÿä¼šå»å°è¯•æ‘¸ç´¢ï¼Œå’±ä»¬ç›´æ¥æ¥çœ‹æˆ‘é‡åˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜</em></strong></p><p>æˆ‘æƒ³è¦å®ç°å¦‚ä¸‹çš„æ•ˆæœ:<br><img src= "/img/loading.gif" data-lazy-src="https://i.loli.net/2020/11/02/nwkLyFDTad6ZhC9.jpg" alt="EC3D5932-C47C-467B-9F25-42509F3B39FF.png">  <img src= "/img/loading.gif" data-lazy-src="https://i.loli.net/2020/11/02/YB9f2Cm5XTK3rgi.jpg" alt="A871DFA1-FECC-4898-8D77-61BE1A698517.png"></p><p>è´´ä¸€ä¸‹é‡ç‚¹çš„ä»£ç ï¼š<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const &#123; data &#125; &#x3D; props;</span><br><span class="line">const [form] &#x3D; Form.useForm();</span><br><span class="line">const initFormValues &#x3D; &#123; price: data.price, curentName: data.curentName &#125;;</span><br><span class="line">form.resetFields();</span><br></pre></td></tr></table></figure><br>æˆ‘æƒ³ç”¨resetFieldså»æŠŠè¡¨å•é‡ç½®æˆä¼ å…¥çš„å€¼ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™æˆ‘å‘ç°ï¼Œå¦‚æœä½ ç‚¹å‡»æŒ‰é’®å¼¹æ¡†çš„ä¸¤ä¸ªå€¼åªä¼šæ˜¯ç¬¬ä¸€æ¬¡ç‚¹æŒ‰é’®çš„å€¼ï¼ˆæ¯”å¦‚æˆ‘ç‚¹ç¬¬ä¸€ä¸ªæ°¸è¿œæ˜¯èƒ¡å½¦æ–Œå’Œ12ï¼‰ï¼Œç‚¹å‡»åä¸¤ä¸ªæŸ¥çœ‹è¯¦æƒ…å€¼æ ¹æœ¬ä¸ä¼šå˜ï¼Œå¦‚æœä¸ä½¿ç”¨è¡¨å•ç¡®å®æ¯æ¬¡çš„å€¼éƒ½ä¼šå˜åŒ–å°±åƒè¿™æ ·</p><p><img src= "/img/loading.gif" data-lazy-src="https://i.loli.net/2020/11/02/XQ6tTh4bJCgoxFj.jpg" alt="chage-input.png"></p><p>ä½†æ¯æ¬¡è¡¨å•æ ¡éªŒå°±æ²¡æœ‰äº†ï¼Œæ„Ÿè§‰å¥½éš¾å—</p><h3 id="è§£å†³æ–¹æ¡ˆ-ä½¿ç”¨useEffectåªè¦å¼¹æ¡†å°±è¿›è¡Œæ›´æ–°"><a href="#è§£å†³æ–¹æ¡ˆ-ä½¿ç”¨useEffectåªè¦å¼¹æ¡†å°±è¿›è¡Œæ›´æ–°" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:ä½¿ç”¨useEffectåªè¦å¼¹æ¡†å°±è¿›è¡Œæ›´æ–°"></a>è§£å†³æ–¹æ¡ˆ:ä½¿ç”¨useEffectåªè¦å¼¹æ¡†å°±è¿›è¡Œæ›´æ–°</h3><p>ç›´æ¥ä¸Šä»£ç :</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">        if(data.visible) &#123;</span><br><span class="line">            setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                form.resetFields();</span><br><span class="line">            &#125;,0);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,[data]);</span><br></pre></td></tr></table></figure><p>å¦‚æœå¼¹æ¡†çš„ä¾èµ–æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œå½“ç„¶è¿™é‡Œä¸»è¦æ˜¯ä¼ å…¥çš„propsæ•°æ®å˜åŒ–ï¼Œé‚£ä¹ˆå°±åœ¨å¼€ä¸€ä¸ªå®ä»»åŠ¡è¿›è¡ŒresetFieldsï¼Œè¿™é‡Œå…¶å®æœ‰äº›å¥‡æ€ªï¼Œæˆ‘åœ¨å…¬å¸ä¸ç”¨åŠ setTimeoutä¹Ÿå¯ä»¥æˆåŠŸï¼Œè¿˜å¾—å†çœ‹ä¸‹<br>å¦‚æœä¸åŠ data.visibleä¼šå‡ºç°formæ‰¾ä¸åˆ°çš„è­¦å‘Šã€‚</p><h3 id="åæ€-å…¶å®æ˜¯ä¸€å¼€å§‹æ‰§è¡Œform-resetFieldsçš„æ—¶å€™è¿˜æ²¡æœ‰æ¸²æŸ“è¡¨å•ï¼Œåªæœ‰å½“data-visibleä¸ºtrueï¼ˆå¼¹æ¡†å‡ºæ¥ï¼‰çš„æ—¶å€™æ‰ä¼šè¿›è¡Œæ¸²æŸ“ï¼Œä½¿ç”¨å®ä»»åŠ¡å»ä¿è¯è¡¨å•æ¸²æŸ“æ—¶æœºä¼šæ›´å¥½"><a href="#åæ€-å…¶å®æ˜¯ä¸€å¼€å§‹æ‰§è¡Œform-resetFieldsçš„æ—¶å€™è¿˜æ²¡æœ‰æ¸²æŸ“è¡¨å•ï¼Œåªæœ‰å½“data-visibleä¸ºtrueï¼ˆå¼¹æ¡†å‡ºæ¥ï¼‰çš„æ—¶å€™æ‰ä¼šè¿›è¡Œæ¸²æŸ“ï¼Œä½¿ç”¨å®ä»»åŠ¡å»ä¿è¯è¡¨å•æ¸²æŸ“æ—¶æœºä¼šæ›´å¥½" class="headerlink" title="åæ€:å…¶å®æ˜¯ä¸€å¼€å§‹æ‰§è¡Œform.resetFieldsçš„æ—¶å€™è¿˜æ²¡æœ‰æ¸²æŸ“è¡¨å•ï¼Œåªæœ‰å½“data.visibleä¸ºtrueï¼ˆå¼¹æ¡†å‡ºæ¥ï¼‰çš„æ—¶å€™æ‰ä¼šè¿›è¡Œæ¸²æŸ“ï¼Œä½¿ç”¨å®ä»»åŠ¡å»ä¿è¯è¡¨å•æ¸²æŸ“æ—¶æœºä¼šæ›´å¥½"></a>åæ€:å…¶å®æ˜¯ä¸€å¼€å§‹æ‰§è¡Œform.resetFieldsçš„æ—¶å€™è¿˜æ²¡æœ‰æ¸²æŸ“è¡¨å•ï¼Œåªæœ‰å½“data.visibleä¸ºtrueï¼ˆå¼¹æ¡†å‡ºæ¥ï¼‰çš„æ—¶å€™æ‰ä¼šè¿›è¡Œæ¸²æŸ“ï¼Œä½¿ç”¨å®ä»»åŠ¡å»ä¿è¯è¡¨å•æ¸²æŸ“æ—¶æœºä¼šæ›´å¥½</h3>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
