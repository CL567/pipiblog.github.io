---
title: 通过Hexo和githubpages进行博客系统建站
date: 2020-11-06 22:04:10
updated: 2020-11-12 22:00:00
cover: https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1604652792554&di=b8fd43fd5f3d18ab469309fde6ac0ac3&imgtype=0&src=http%3A%2F%2Fphotocdn.sohu.com%2F20150803%2Fmp25547608_1438592770226_5.jpeg
categories:
- 网站建设
tags:
- Hexo
---
# 搭建网站

## 源动力

一直以来都想自己写一些自己的东西，原来尝试过用印象笔记去共享一些经验和总结，但后来觉得笔记适用于提醒和任务，所以打算建一个博客来分享一些开发经验和解决问题的思路，最近在网上找了些教程去试验了下，发现还是有不少坑的，在这里总结一手，希望大家能顺利建起自己的博客。

## 开始行动

**基本的安装步骤我会一笔带过，重点说下我遇到过的问题和解决方法**

{% post_link React/1 %}

### 一.搭建基本架构上传githubpages，并在githubpages上访问

* 安装node
* 安装git
* 安装hexo(npm install -g hexo-cli)
* 构建常用命令:
          *hexo init folder(创建一个hexo的博客项目)
          *hexo g(生成静态文件,这里指的是本地的public文件夹)
          *hexo s(开启本地服务，在浏览器中访问，默认端口为4000)
          *hexo d(将生成的静态文件上传至githubpages上)
          *hexo s -g --debug(在本地开启服务，并进行热更新)
          *hexo clean(将public文件和临时的db.json文件全部清除)
<font color=#A52A2A size=3 >这里注意hexo clean 会删除db.json会包含评论数据，所以尽量不要删除</font>


首先我们执行hexo init testFolder创建项目，之后cd testFolder，然后npm install安装包，执行hexo s运行本地服务，访问 http://localhost:4000 默认是4000端口，当然你可以自己按照文档指定去修改，效果是这样的:
![origin-blog.png](https://i.loli.net/2020/11/07/YQtDEsaUPSolueI.jpg)
那么恭喜你，第一步已经完成了

接下来，我们登录[github](https://github.com/)
点击左上角绿色的new去新建一个分支，<font color=#A52A2A size=3 >注意在new分支的时候你的分支名字要起成  用户名.github.io就像这样</font>
![branch.png](https://i.loli.net/2020/11/11/jHnzqtfJsO2S8Pw.jpg)
接下来安装hexo-deployer-git(npm install hexo-deployer-git --save)，修改我们本地的_config.yml文件，deploy属性:
    ```
    deploy:
      type: git
      repo: https://github.com/用户名/用户名.github.io
      branch: master // 这里写自己的分支
    ```
之后在本地执行hexo d，然后访问用户名.github.io就可以在github上看到你的博客了。
### 部署
  我们已经将本地代码上传到了master分支了，但我们需要一个分支来存储我们的本地代码，在github上新建一个develop分支，从master克隆就好，然后用我们的本地代码替换掉develop分支上的代码，执行git add, git commit, git push进行提交，这样就可以在公司或者家里写博客了。

# 主题安装配置

## 安装

推荐用git去安装，因为用npm安装的没法自定义一些样式，还有引入一些文件，在博客根目录运行
```
  git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly
```
  并且在_config.yml中指定主题：theme: butterfly
运行
```
  npm install hexo-renderer-pug hexo-renderer-stylus --save
```
主题就更换完毕了。

## 优化和自定义主题
### 常用选项
   title:文章标题
   cover:文章缩略图
   top_img:顶部头图
   keywords:关键词
   updated:文章更新时间
一般我就用这些，如果喜欢可以再加别的属性
### 页面优化

   1. 因为butterfly的banner和背景是分开的，如果你想像我这样做成一张图的效果可以这样：
   在_config.butterfaly.yml中找到background ，然后修改你想要的图片：url(图片地址)，注意，(一定是https协议的,http不会显示)，修改index_img(banner图)也为一样的图片
   2. 配置中文：在_config.yml中配置 language: zh-CN
   3. 打字效果配置subtitle的enable为true，这里注意他会先显示source中的名句，然后在显示sub中的语句
   4. 







